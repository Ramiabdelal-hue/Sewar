# ๐ ุฏููู ุงููุธุงู ุงููุงูู - ูุธุงู ุงูุงุดุชุฑุงูุงุช ูุงูุชูุฌูู ุงูุฐูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุจูุงุก ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช ูุน ุงูุชูุฌูู ุงูุฐูู ูุงูุชูุงุก ุงูุตูุงุญูุฉ ุงูุชููุงุฆู.

---

## ๐ง ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฃููุงุน ุงูุงุดุชุฑุงูุงุช (4 ุฃููุงุน)

| ุงูููุน | ุงููุตู | ุงูุณุนุฑ | ุงูุตูุญุฉ |
|------|-------|-------|--------|
| **Theorie** | ุงูุฏุฑูุณ ุงููุธุฑูุฉ (A, B, C) | โฌ25 (2w) / โฌ50 (1m) | `/lessons` |
| **Examen** | ุงูุงูุชุญุงูุงุช (A, B, C) | โฌ25 (2w) / โฌ50 (1m) | `/examen` |
| **Praktijk Lessons** | ุงูููุฏูููุงุช ุงูุชุฏุฑูุจูุฉ | โฌ49 | `/praktical/lessons` |
| **Praktijk Exam** | ุงุฎุชุจุงุฑ ุงูุฎุทุฑ | โฌ39 | `/praktical/exam` |

### 2. ุงููุฏุฏ ุงููุชุงุญุฉ

- **ุฃุณุจูุนูู (2 Weeks)**: 14 ููู
- **ุดูุฑ ูุงุญุฏ (1 Month)**: 30 ููู

### 3. ุงููุบุงุช ุงููุฏุนููุฉ

- ๐ณ๐ฑ ุงูููููุฏูุฉ (NL)
- ๐ซ๐ท ุงููุฑูุณูุฉ (FR)
- ๐ธ๐ฆ ุงูุนุฑุจูุฉ (AR)

---

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู

### ุงููุฑุญูุฉ 1: ุงูุงุดุชุฑุงู

```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ููุน ุงูุงุดุชุฑุงู:
   - Theorie โ ูุฎุชุงุฑ ุงููุฆุฉ (A, B, C) ูุงููุฏุฉ
   - Examen โ ูุฎุชุงุฑ ุงููุฆุฉ (A, B, C) ูุงููุฏุฉ
   - Praktijk โ ูุฎุชุงุฑ (Lessons ุฃู Exam)

2. ูููุฃ ูููุฐุฌ ุงูุฏูุน:
   - ุงูุงุณู ุงููุงูู
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ุงููุฑูุฑ
   - ุฑูู ุงููุงุชู
   - ุทุฑููุฉ ุงูุฏูุน

3. ุงููุธุงู ูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   - email
   - password
   - category (A, B, C)
   - subscriptionType (theorie, examen, praktijk-lessons, praktijk-exam)
   - expiryDate (ุชุงุฑูุฎ ุงูุงูุชูุงุก)
   - status (active)

4. ุงูุชูุฌูู ุงูุชููุงุฆู:
   - Theorie โ /lessons?cat=B&user=email&exp=timestamp
   - Examen โ /examen?email=email&cat=A&exp=timestamp
   - Praktijk Lessons โ /praktical/lessons?email=email&exp=timestamp
   - Praktijk Exam โ /praktical/exam?email=email&exp=timestamp
```

### ุงููุฑุญูุฉ 2: ุชุณุฌูู ุงูุฏุฎูู

```
1. ุงููุณุชุฎุฏู ูุฏุฎู:
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ุงููุฑูุฑ

2. ุงููุธุงู ูุชุญูู:
   - ูู ุงูุจูุงูุงุช ุตุญูุญุฉุ
   - ูู ุงูุงุดุชุฑุงู ุณุงุฑูุ

3. ุฅุฐุง ูุงู ุตุญูุญ:
   - ูุฌูุจ subscriptionType ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ููุฌู ุงููุณุชุฎุฏู ููุตูุญุฉ ุงูููุงุณุจุฉ:
     * examen โ /examen
     * praktijk-lessons โ /praktical/lessons
     * praktijk-exam โ /praktical/exam
     * theorie โ /lessons

4. ุฅุฐุง ูุงู ุฎุงุทุฆ:
   - ุฑุณุงูุฉ ุฎุทุฃ
```

### ุงููุฑุญูุฉ 3: ุงููุตูู ูููุญุชูู

```
1. ุนูุฏ ูุชุญ ุฃู ุตูุญุฉ ูุญููุฉ:
   - ูุชู ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุงุดุชุฑุงู ุชููุงุฆูุงู
   - ูุชู ููุงุฑูุฉ expiryDate ูุน ุงูุชุงุฑูุฎ ุงูุญุงูู

2. ุฅุฐุง ูุงู ุงูุงุดุชุฑุงู ุณุงุฑู:
   - ุนุฑุถ ุงููุญุชูู
   - ุนุฑุถ ุงูููุช ุงููุชุจูู (ุฃูุงูุ ุณุงุนุงุชุ ุฏูุงุฆู)
   - ุชุญุฏูุซ ุงูุนุฏุงุฏ ูู ุฏูููุฉ

3. ุฅุฐุง ุงูุชูุช ุงูุตูุงุญูุฉ:
   - ููุน ุงููุตูู
   - ุนุฑุถ ุฑุณุงูุฉ "ุงูุชูุช ุตูุงุญูุฉ ุงูุงุดุชุฑุงู"
   - ุฒุฑ "ุชุฌุฏูุฏ ุงูุงุดุชุฑุงู"
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู User

```prisma
model User {
  id               Int      @id @default(autoincrement())
  email            String   @unique
  name             String
  password         String
  phone            String?
  category         String   // A, B, C
  paymentType      String   // bancontact, qr_scan, paypal
  subscriptionType String?  // theorie, examen, praktijk-lessons, praktijk-exam
  expiryDate       DateTime // ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุดุชุฑุงู
  status           String   // active, expired
  createdAt        DateTime @default(now())
}
```

### ูุซุงู ุนูู ุงูุจูุงูุงุช

```json
{
  "email": "user@example.com",
  "name": "John Doe",
  "password": "hashed_password",
  "phone": "+32123456789",
  "category": "A",
  "paymentType": "bancontact",
  "subscriptionType": "examen",
  "expiryDate": "2026-03-06T10:30:00.000Z",
  "status": "active"
}
```

---

## ๐ API Endpoints

### 1. POST /api/subscribe
**ุงููุธููุฉ**: ุฅูุดุงุก ุฃู ุชุญุฏูุซ ุงุดุชุฑุงู

**Request Body**:
```json
{
  "email": "user@example.com",
  "fullName": "John Doe",
  "password": "password123",
  "phone": "+32123456789",
  "category": "A",
  "subscriptionType": "examen",
  "paymentMethod": "bancontact",
  "expiry": 1741256400000,
  "forceRenew": false
}
```

**Response**:
```json
{
  "success": true,
  "email": "user@example.com",
  "cat": "A",
  "subscriptionType": "examen",
  "exp": 1741256400000
}
```

### 2. POST /api/login
**ุงููุธููุฉ**: ุชุณุฌูู ุงูุฏุฎูู

**Request Body**:
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response**:
```json
{
  "success": true,
  "role": "student",
  "cat": "A",
  "email": "user@example.com",
  "subscriptionType": "examen",
  "exp": 1741256400000
}
```

### 3. POST /api/check-subscription
**ุงููุธููุฉ**: ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุงุดุชุฑุงู

**Request Body**:
```json
{
  "email": "user@example.com"
}
```

**Response (ุณุงุฑู)**:
```json
{
  "success": true,
  "expired": false,
  "user": {
    "email": "user@example.com",
    "name": "John Doe",
    "category": "A",
    "subscriptionType": "examen",
    "expiryDate": "2026-03-06T10:30:00.000Z"
  }
}
```

**Response (ููุชูู)**:
```json
{
  "success": false,
  "expired": true,
  "message": "ุงูุชูุช ุตูุงุญูุฉ ุงุดุชุฑุงูู",
  "expiryDate": "2026-02-20T10:30:00.000Z"
}
```

### 4. GET /api/lessons
**ุงููุธููุฉ**: ุฌูุจ ุงูุฏุฑูุณ ุงููุชุงุญุฉ

**Query Parameters**:
- `category`: A, B, C
- `questionType`: Theori, Praktijk, Examen

**Response**:
```json
{
  "success": true,
  "lessons": [
    {
      "id": 1,
      "title": "Motorfiets wetgeving (A) - Introductie",
      "category": "A",
      "questionType": "Examen",
      "_count": {
        "questions": 3
      }
    }
  ]
}
```

### 5. GET /api/questions
**ุงููุธููุฉ**: ุฌูุจ ุงูุฃุณุฆูุฉ

**Query Parameters**:
- `lesson`: ุงุณู ุงูุฏุฑุณ
- `category`: A, B, C
- `questionType`: Theori, Praktijk, Examen

**Response**:
```json
{
  "success": true,
  "questions": [
    {
      "id": 1,
      "text": "ูุง ูู ุงูุณุคุงูุ",
      "imageUrls": ["/uploads/image1.png"],
      "audioUrl": "/uploads/audio1.mp3",
      "answer1": "ุงูุฅุฌุงุจุฉ ุงูุฃููู",
      "answer2": "ุงูุฅุฌุงุจุฉ ุงูุซุงููุฉ",
      "answer3": "ุงูุฅุฌุงุจุฉ ุงูุซุงูุซุฉ",
      "correctAnswer": 1
    }
  ]
}
```

---

## ๐ฑ ุงูุตูุญุงุช

### 1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (/)
- ุนุฑุถ 3 ุฎูุงุฑุงุช: Theorie, Praktijk, Examen
- ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู

### 2. ุตูุญุฉ ุงูุฏุฑูุณ ุงููุธุฑูุฉ (/lessons)
- ุนุฑุถ ูุงุฆูุฉ ุงูุฏุฑูุณ ุญุณุจ ุงููุฆุฉ (A, B, C)
- ุนุฑุถ ุงูููุช ุงููุชุจูู
- ุงูุชุญูู ูู ุงูุตูุงุญูุฉ

### 3. ุตูุญุฉ ุงูุงูุชุญุงูุงุช (/examen)
- ุงุฎุชูุงุฑ ุงููุฆุฉ (A, B, C)
- ุนุฑุถ ูุงุฆูุฉ ุงูุฏุฑูุณ ุงููุชุงุญุฉ
- ุงูุงูุชูุงู ูุตูุญุฉ ุงูุงุฎุชุจุงุฑ

### 4. ุตูุญุฉ ุงุฎุชุจุงุฑ ุงูุงูุชุญุงู (/examen/test)
- ุนุฑุถ ุงูุฃุณุฆูุฉ ูุน ุงูุฅุฌุงุจุงุช
- ุงุฎุชูุงุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
- ุนุฑุถ ุงููุชูุฌุฉ (ูุฌุงุญ/ุฑุณูุจ)
- ุงูุชุญูู ูู ุงูุตูุงุญูุฉ

### 5. ุตูุญุฉ ุงูููุฏูููุงุช ุงูุชุฏุฑูุจูุฉ (/praktical/lessons)
- ุนุฑุถ 12 ููุฏูู ุชุฏุฑูุจู
- ุนุฑุถ ุงูููุช ุงููุชุจูู
- ุงูุชุญูู ูู ุงูุตูุงุญูุฉ

### 6. ุตูุญุฉ ุงุฎุชุจุงุฑ ุงูุฎุทุฑ (/praktical/exam)
- ุนุฑุถ 12 ุงุฎุชุจุงุฑ ุฎุทุฑ
- ุนุฑุถ ุงูููุช ุงููุชุจูู
- ุงูุชุญูู ูู ุงูุตูุงุญูุฉ

---

## ๐ ุงูุฃูุงู

### 1. ุนูู ูุณุชูู ุงูุฎุงุฏู
- โ ุงูุชุญูู ูู ุงูุตูุงุญูุฉ ูู API
- โ ููุงุฑูุฉ ุงูุชุงุฑูุฎ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูุง ูููู ุงูุชูุงุนุจ ุจุงูุจูุงูุงุช

### 2. ุนูู ูุณุชูู ุงูุนููู
- โ ุงูุชุญูู ุนูุฏ ูู ุชุญููู ููุตูุญุฉ
- โ ุนุฑุถ ุงูููุช ุงููุชุจูู
- โ ููุน ุงููุตูู ุชููุงุฆูุงู ุนูุฏ ุงูุงูุชูุงุก

### 3. ูููุงุช ุงููุฑูุฑ
- โ๏ธ ุญุงููุงู: ูุต ุนุงุฏู (Plain Text)
- ๐ ูููุตุญ: ุงุณุชุฎุฏุงู bcrypt ููุชุดููุฑ

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุงุดุชุฑุงู
```bash
# 1. ุงุดุชุฑู ูู ุงูุงูุชุญุงูุงุช
# 2. ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
node test-subscription-types.js

# ูุฌุจ ุฃู ุชุฑู:
# subscriptionType: "examen"
```

### ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
```bash
# 1. ุณุฌู ุฏุฎูู ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
# 2. ูุฌุจ ุฃู ููุชุญ /examen
# 3. ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุงูุฏุฑูุณ
```

### ุงุฎุชุจุงุฑ ุงูุชูุงุก ุงูุตูุงุญูุฉ
```bash
# 1. ุบูุฑ expiryDate ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุงุฑูุฎ ูุงุถู
# 2. ุญุงูู ุงูุฏุฎูู
# 3. ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ "ุงูุชูุช ุตูุงุญูุฉ ุงูุงุดุชุฑุงู"
```

### ุงุฎุชุจุงุฑ ุงูุฃุณุฆูุฉ
```bash
# ุชุญูู ูู ุงูุฃุณุฆูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
node check-questions.js

# ูุฌุจ ุฃู ุชุฑู:
# - ุนุฏุฏ ุงูุฃุณุฆูุฉ ููู ุฏุฑุณ
# - ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุนุฑุถ ุงููุณุชุฎุฏููู
```bash
node test-subscription-types.js
```

**ุงููุชูุฌุฉ**:
```
๐ Statistics:
   Theorie: 7
   Examen: 0
   Praktijk Lessons: 0
   Praktijk Exam: 0
   Total: 7
```

### ุนุฑุถ ุงูุฃุณุฆูุฉ
```bash
node check-questions.js
```

**ุงููุชูุฌุฉ**:
```
Found 2 Examen lessons:
- Category A: 3 questions
- Category B: 3 questions
```

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ููุชุฑุญุงุช ููุชุญุณูู

1. **ุชุดููุฑ ูููุงุช ุงููุฑูุฑ**
   ```javascript
   const bcrypt = require('bcrypt');
   const hashedPassword = await bcrypt.hash(password, 10);
   ```

2. **ุฅุดุนุงุฑุงุช ุงูุชูุงุก ุงูุตูุงุญูุฉ**
   - ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู ูุจู 3 ุฃูุงู ูู ุงูุงูุชูุงุก
   - ุฅุดุนุงุฑ ูู ุงูุตูุญุฉ

3. **ุชูุงุฑูุฑ ุงูุฃุฏุงุก**
   - ุนุฏุฏ ุงูุฃุณุฆูุฉ ุงููุฌุงุจุฉ
   - ูุณุจุฉ ุงููุฌุงุญ
   - ุงูููุช ุงููุณุชุบุฑู

4. **ูุธุงู ุงูููุงุท**
   - ููุงุท ููู ุฅุฌุงุจุฉ ุตุญูุญุฉ
   - ููุญุฉ ุงููุชุตุฏุฑูู

5. **ุงูุฏูุน ุงูุฅููุชุฑููู**
   - ุชูุงูู ูุน Stripe
   - ุชูุงูู ูุน PayPal

---

## ๐ ุงููููุงุช ุงูุฑุฆูุณูุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `prisma/schema.prisma` - ุชุนุฑูู ุงูุฌุฏุงูู
- `prisma/migrations/` - ุงูุชุญุฏูุซุงุช

### API
- `app/api/subscribe/route.ts` - ุงูุงุดุชุฑุงู
- `app/api/login/route.ts` - ุชุณุฌูู ุงูุฏุฎูู
- `app/api/check-subscription/route.ts` - ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
- `app/api/lessons/route.ts` - ุฌูุจ ุงูุฏุฑูุณ
- `app/api/questions/route.ts` - ุฌูุจ ุงูุฃุณุฆูุฉ

### ุงูููููุงุช
- `components/LoginModal.tsx` - ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู
- `components/CheckoutForm.tsx` - ูููุฐุฌ ุงูุฏูุน
- `components/Navbar.tsx` - ุดุฑูุท ุงูุชููู

### ุงูุตูุญุงุช
- `app/page.tsx` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- `app/lessons/page.tsx` - ุงูุฏุฑูุณ ุงููุธุฑูุฉ
- `app/examen/page.tsx` - ุงูุงูุชุญุงูุงุช
- `app/examen/test/page.tsx` - ุงุฎุชุจุงุฑ ุงูุงูุชุญุงู
- `app/praktical/lessons/page.tsx` - ุงูููุฏูููุงุช
- `app/praktical/exam/page.tsx` - ุงุฎุชุจุงุฑ ุงูุฎุทุฑ

### ุงูุณูุฑูุจุชุงุช
- `check-questions.js` - ุนุฑุถ ุฃุณุฆูุฉ ุงูุงูุชุญุงูุงุช
- `test-subscription-types.js` - ุนุฑุถ ุฃููุงุน ุงูุงุดุชุฑุงูุงุช

---

## โ ุงูุฎูุงุตุฉ

ุงููุธุงู ุงูุขู ูุนูู ุจุดูู ูุงูู ููุชูุงูู:

1. โ **4 ุฃููุงุน ุงุดุชุฑุงูุงุช** ูุน ุฃุณุนุงุฑ ูุฎุชููุฉ
2. โ **ุงูุชูุฌูู ุงูุฐูู** ุญุณุจ ููุน ุงูุงุดุชุฑุงู
3. โ **ุงูุชูุงุก ุงูุตูุงุญูุฉ ุงูุชููุงุฆู** ุจูุงุกู ุนูู ุงููุฏุฉ
4. โ **ุงูุชุญูู ูู ุงูุตูุงุญูุฉ** ูู ูู ุตูุญุฉ
5. โ **ุนุฑุถ ุงูููุช ุงููุชุจูู** ูู ุฌููุน ุงูุตูุญุงุช
6. โ **ุฏุนู 3 ูุบุงุช** (NL, FR, AR)
7. โ **ูุธุงู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช** ููุงูุชุญุงูุงุช
8. โ **ุงูุฃูุงู** ุนูู ูุณุชูู ุงูุฎุงุฏู ูุงูุนููู

๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!
